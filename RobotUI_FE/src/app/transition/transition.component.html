<div class=" w-full flex flex-col pr-10 pt-10 pl-10 items-center justify-center gap-10">
  <div class="flex w-full items-center justify-between">
    <!-- Title -->
    <span class="flex flex-col items-start justify-center">
      <p class="text-[38px] font-bold">Transitions</p>
      <p class="text-[16px] font-medium text-[#7B7B7B] flex items-center justify-center gap-2">
      Create and edit transitions
        <svg
          width="20"
          height="20"
          viewBox="0 0 25 25"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g clip-path="url(#clip0_513_29001)">
            <path
              d="M12.4987 2.08301C6.75495 2.08301 2.08203 6.75592 2.08203 12.4997C2.08203 18.2434 6.75495 22.9163 12.4987 22.9163C18.2424 22.9163 22.9154 18.2434 22.9154 12.4997C22.9154 6.75592 18.2424 2.08301 12.4987 2.08301ZM13.5404 17.708H11.457V11.458H13.5404V17.708ZM13.5404 9.37467H11.457V7.29134H13.5404V9.37467Z"
              fill="black"
            />
          </g>
          <defs>
            <clipPath id="clip0_513_29001">
              <rect width="25" height="25" fill="white" />
            </clipPath>
          </defs>
        </svg>
      </p>
    </span>
    <!-- Button -->
    <span class="flex items-center justify-between gap-10">
      <span
        class="flex items-center justify-center h-12 rounded-full shadow-[0_0_10px_#00000030]"
      >
        <span
          class="flex items-center justify-center bg-[#D30000] h-full px-5 rounded-ss-full rounded-es-full"
        >
          <p class="text-white font-semibold">Search</p>
        </span>
        <input
          type="text"
          placeholder="Search"
          class="flex font-normal border-none outline-none h-full w-[250px] border-2 px-3"
        />
        <span
          class="flex items-center justify-center bg-[#D30000] h-full px-6 rounded-ee-full rounded-se-full"
        >
          <svg
            width="18"
            height="18"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M16.6937 14.7322H15.6255L15.2244 14.3973C16.4934 12.8573 17.2949 10.915 17.2949 8.70538C17.2948 3.88379 13.4214 0 8.6142 0C3.8728 0 0 3.88379 0 8.70538C0 13.527 3.8728 17.4107 8.68073 17.4107C10.8176 17.4107 12.8208 16.6071 14.3564 15.335L14.7569 15.6699V16.7411L21.4343 23.4375L23.4375 21.4286L16.6937 14.7322ZM8.68073 14.7322C5.34198 14.7322 2.67102 12.0535 2.67102 8.70538C2.67102 5.35712 5.34198 2.67865 8.68073 2.67865C12.0193 2.67865 14.6904 5.35712 14.6904 8.70538C14.6904 12.0535 12.0193 14.7322 8.68073 14.7322Z"
              fill="white"
            />
          </svg>
        </span>
      </span>

      <button (click)="createPopup()"
        class="w-[180px] flex items-center justify-center gap-2 py-3 text-[14px] rounded-md hover:bg-opacity-90 active:bg-opacity-80 bg-[#D30000] font-semibold text-white"
      >
        <svg
          width="14"
          height="13"
          viewBox="0 0 14 13"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M8.03063 0.5H5.9534L5.98535 5.44024H1V7.51195H5.98535V12.5H8.03063V7.51195H13L12.9521 5.44024H8.03063V0.5Z"
            fill="white"
            stroke="black"
            stroke-width="0.1"
          />
        </svg>
        Create Transitions
      </button>
    </span>
  </div>

  <div class="w-full h-full flex flex-col items-center justify-start gap-2">
    <!-- Table Title -->
    <span class="w-full py-6 text-white font-semibold rounded-[6px] bg-black flex items-center justify-between px-20">
      <span class="w-[30%] flex items-center justify-between">
        <p class="w-[70%] flex items-center justify-start text-[14px]">Name</p>
      </span>
      <span class="grid grid-cols-5 w-[70%] items-center justify-between text-[14px]">
        <p class="w-full flex items-center justify-start text-[14px]">Start Position</p>
        <p class="w-full flex items-center justify-start text-[14px]">End Position</p>
        <p class="w-full flex items-center justify-start text-[14px]">Created By</p>
        <p class="w-full flex items-center justify-start text-[14px]">Created on</p>
        <p class="w-full flex items-center justify-center text-[14px]">Functions</p>
      </span>
    </span>

    <!-- Table Rows -->
     <div class="flex flex-col items-center justify-center w-full gap-1">
      @if(transitionData.length === 0){<p class="flex items-center justify-center py-5 text-[14px] text-[#9e9e9e]">- No data Found -</p>}
      @for (tData of transitionData; track tData) {
        <span class="w-full twoColors py-4 text-black hover:shadow-[0_0_20px_#00000040] font-medium rounded-[6px] bg-white flex items-center justify-between px-20">
          <span class="w-[30%] flex items-center justify-between">
            <p class="w-[70%] flex items-center justify-start text-[12px]">{{ tData.name }}</p>
          </span>
          <span class="grid grid-cols-5 w-[70%] items-center justify-between text-[14px]">
            <p class="w-full flex items-center justify-start text-[12px]">{{ tData.startPosition }}</p>
            <p class="w-full flex items-center justify-start text-[12px]">{{tData.endPosition}}</p>
            <p class="w-full flex items-center justify-start text-[12px] capitalize">{{tData.createdBy}}</p>
            <p class="w-full flex items-center justify-start text-[12px]">{{tData.createdOn}}</p>
            <span class="w-full flex items-center justify-center gap-2">

              <svg (click)="getEditTransition(tData.transitionId)" class="cursor-pointer" width="28" height="28" viewBox="0 0 36 35" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_1447_31557)">
                  <path d="M7.875 23.407V27.6258H12.0938L24.5362 15.1833L20.3175 10.9645L7.875 23.407ZM27.7987 11.9208C27.903 11.8167 27.9858 11.6931 28.0422 11.557C28.0987 11.4209 28.1277 11.275 28.1277 11.1277C28.1277 10.9803 28.0987 10.8344 28.0422 10.6983C27.9858 10.5622 27.903 10.4386 27.7987 10.3345L25.1663 7.70205C25.0622 7.59775 24.9385 7.51501 24.8025 7.45856C24.6664 7.40211 24.5205 7.37305 24.3731 7.37305C24.2258 7.37305 24.0799 7.40211 23.9438 7.45856C23.8077 7.51501 23.6841 7.59775 23.58 7.70205L21.5212 9.7608L25.74 13.9795L27.7987 11.9208Z" fill="#000"/>
                </g>
                <defs>
                  <clipPath id="clip0_1447_31557">
                    <rect width="27" height="27" fill="white" transform="translate(4.5 4)"/>
                  </clipPath>
                </defs>
              </svg>

              <svg (click)="getTransitionId(tData.transitionId)" class="cursor-pointer" width="28" height="28" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M11.25 5.75H11C11.1375 5.75 11.25 5.6375 11.25 5.5V5.75H20.75V5.5C20.75 5.6375 20.8625 5.75 21 5.75H20.75V8H23V5.5C23 4.39688 22.1031 3.5 21 3.5H11C9.89687 3.5 9 4.39688 9 5.5V8H11.25V5.75ZM27 8H5C4.44687 8 4 8.44688 4 9V10C4 10.1375 4.1125 10.25 4.25 10.25H6.1375L6.90938 26.5938C6.95938 27.6594 7.84063 28.5 8.90625 28.5H23.0938C24.1625 28.5 25.0406 27.6625 25.0906 26.5938L25.8625 10.25H27.75C27.8875 10.25 28 10.1375 28 10V9C28 8.44688 27.5531 8 27 8ZM22.8531 26.25H9.14688L8.39062 10.25H23.6094L22.8531 26.25Z" fill="black"/>
              </svg>
            </span>
          </span>
        </span>
      }
     </div>
  </div>
</div>

<!-- Create Popup -->
<div  [ngClass]="{'hidden': !createPopupState}" class="absolute flex items-center justify-center w-screen box-border h-screen bg-[#000000] bg-opacity-90 bg-blur top-0 left-0 z-50">
  <div class="px-14 py-14 w-[750px] shadow-[0_0_30px_#00000060] rounded-[20px] bg-[#D9D9D9]">
    <!-- Title -->
    <span class="flex flex-col items-start justify-center">
      <p class=" text-[35px] text-black font-bold">Create Transition</p>
      <p class=" flex items-center justify-center gap-2 text-[14px] font-medium text-[#7B7B7B]">
        Create an New Transition
        <svg width="20" height="20" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g clip-path="url(#clip0_513_29001)">
          <path d="M12.4987 2.08301C6.75495 2.08301 2.08203 6.75592 2.08203 12.4997C2.08203 18.2434 6.75495 22.9163 12.4987 22.9163C18.2424 22.9163 22.9154 18.2434 22.9154 12.4997C22.9154 6.75592 18.2424 2.08301 12.4987 2.08301ZM13.5404 17.708H11.457V11.458H13.5404V17.708ZM13.5404 9.37467H11.457V7.29134H13.5404V9.37467Z" fill="black"/>
          </g>
          <defs>
          <clipPath id="clip0_513_29001">
          <rect width="25" height="25" fill="white"/>
          </clipPath>
          </defs>
        </svg>
      </p>
    </span>

    <!-- Transition Name -->
    <span class="flex flex-col items-center justify-center gap-10 w-full mt-10">
      <span class="flex flex-col items-start justify-center w-full gap-3">
        <span
          class="text-[14px] gap-3 items-center justify-center flex font-semibold"
          >Name
        </span>
        <input
          [(ngModel)]="transitionName"
          type="text"
          placeholder="Enter Transition name"
          class="w-full px-4 py-2 pt-4 rounded-md bg-white border-none outline-none"
        />
      </span>
    </span>

    <span class="flex items-center justify-between gap-10 w-full mt-10">
      <!-- Start Position Drop Down -->
       <span class="flex w-[50%] flex-col justify-center items-start gap-3">
        <span class="text-[14px] gap-3 items-center justify-center flex font-semibold">
          Start Position
        </span>
        <!-- Start Position Drop Down -->
        <span (click)="startPositionOC()" class="flex w-full flex-col items-start justify-center relative gap-1">
          <span class="flex w-full items-center justify-between px-5 py-3 bg-white rounded-md" >
            <p class="font-medium">{{startPosition}}</p>
            <svg [ngClass]="{'rotateArrow': startPositionPopupOCstate}" class="duration-300 shadow" width="14" height="15" viewBox="0 0 14 15" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M7.00007 12.3125L0 5.42194L2.33335 3.125L7.00007 7.71879L11.6667 3.125L14 5.42194L7.00007 12.3125Z" fill="black" />
            </svg>
          </span>
          <p class="absolute top-[calc(100%+5px)] text-red-500 text-[12px] font-medium">{{errorMessage}}</p>
          <!-- Drop Down Options -->
          <span [ngClass]="{'hidden': !startPositionPopupOCstate}" class="absolute top-[calc(100%+5px)] h-[120px] overflow-scroll duration-200 flex flex-col w-full items-start justify-start gap-2 p-2 rounded-lg MinimalScrollCSS scrollCSS bg-white">
            @for (pts of startPositionPts; track pts) {
              <p (click)="$event.stopPropagation(); changeStartPos(pts.ptsId)" class="px-3 py-3 w-full text-[12px] duration-300 hover:duration-300 rounded-md bg-white hover:bg-[#c1c1c1]">{{pts.ptName}}</p>
            }
          </span>
        </span>
       </span>

       <!-- End Position Drop Down -->
       <span class="flex w-[50%] flex-col justify-center items-start gap-3">
        <span class="text-[14px] gap-3 items-center justify-center flex font-semibold">
          End Position
        </span>
        <!-- End Position Drop Down -->
        <span (click)="endPositionOC()" class="flex w-full flex-col items-start justify-center relative gap-1">
          <span class="flex w-full items-center justify-between px-5 py-3 bg-white rounded-md" >
            <p class="font-medium">{{endPosition}}</p>
            <svg [ngClass]="{'rotateArrow': endPositionPopupOCstate}" class="duration-300 shadow" width="14" height="15" viewBox="0 0 14 15" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M7.00007 12.3125L0 5.42194L2.33335 3.125L7.00007 7.71879L11.6667 3.125L14 5.42194L7.00007 12.3125Z" fill="black" />
            </svg>
          </span>
          <!-- Drop Down Options -->
          <span [ngClass]="{'hidden': !endPositionPopupOCstate}" class="absolute top-[calc(100%+5px)] h-[120px] overflow-scroll duration-200 flex flex-col w-full items-start justify-start gap-2 p-2 rounded-lg MinimalScrollCSS scrollCSS bg-white">
            @for (pts of endPositionPts; track pts) {
              <p (click)="$event.stopPropagation(); changeEndPos(pts.ptsId)" class="px-3 py-3 w-full text-[12px] duration-300 hover:duration-300 rounded-md bg-white hover:bg-[#c1c1c1]">{{pts.ptName}}</p>
            }
          </span>
        </span>
       </span>
    </span>
    <span class="flex items-center justify-end gap-5 mt-20">
      <button (click)="createTransition()" class="w-[150px] flex items-center justify-center gap-2 py-[8px] text-[12px] rounded-md hover:bg-opacity-90 active:bg-opacity-80 bg-[#D30000] font-semibold text-white">
          <svg width="14" height="13" viewBox="0 0 14 13" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M8.03063 0.5H5.9534L5.98535 5.44024H1V7.51195H5.98535V12.5H8.03063V7.51195H13L12.9521 5.44024H8.03063V0.5Z" fill="white" stroke="black" stroke-width="0.1"/>
          </svg>
          <p>Create Transition</p>
        </button>

        <button (click)="createPopup()" class="w-[110px] flex items-center justify-center gap-2 py-2 text-[12px] rounded-md hover:bg-opacity-90 active:bg-opacity-80 bg-transparent border-2 border-[#D30000] font-semibold text-[#D30000]">
          <p>Cancel</p>
        </button>
     </span>
  </div>
</div>

<!-- Edit Popup -->
<div  [ngClass]="{'hidden': !editPopupState}" class="absolute flex items-center justify-center w-screen box-border h-screen bg-[#000000] bg-opacity-90 bg-blur top-0 left-0 z-50">
  <div class="px-14 py-14 w-[750px] shadow-[0_0_30px_#00000060] rounded-[20px] bg-[#D9D9D9]">
    <!-- Title -->
    <span class="flex flex-col items-start justify-center">
      <p class=" text-[35px] text-black font-bold">Edit Transition</p>
      <p class=" flex items-center justify-center gap-2 text-[14px] font-medium text-[#7B7B7B]">
        Edit an Transition
        <svg width="20" height="20" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g clip-path="url(#clip0_513_29001)">
          <path d="M12.4987 2.08301C6.75495 2.08301 2.08203 6.75592 2.08203 12.4997C2.08203 18.2434 6.75495 22.9163 12.4987 22.9163C18.2424 22.9163 22.9154 18.2434 22.9154 12.4997C22.9154 6.75592 18.2424 2.08301 12.4987 2.08301ZM13.5404 17.708H11.457V11.458H13.5404V17.708ZM13.5404 9.37467H11.457V7.29134H13.5404V9.37467Z" fill="black"/>
          </g>
          <defs>
          <clipPath id="clip0_513_29001">
          <rect width="25" height="25" fill="white"/>
          </clipPath>
          </defs>
        </svg>
      </p>
    </span>

    <!-- Transition Name -->
    <span class="flex flex-col items-center justify-center gap-10 w-full mt-10">
      <span class="flex flex-col items-start justify-center w-full gap-3">
        <span
          class="text-[14px] gap-3 items-center justify-center flex font-semibold"
          >Name
        </span>
        <input
          [(ngModel)]="editTransitionName"
          type="text"
          placeholder="Enter Transition name"
          class="w-full px-4 py-2 pt-4 rounded-md bg-white border-none outline-none"
        />
      </span>
    </span>

    <span class="flex items-center justify-between gap-10 w-full mt-10">
      <!-- Start Position Drop Down -->
       <span class="flex w-[50%] flex-col justify-center items-start gap-3">
        <span class="text-[14px] gap-3 items-center justify-center flex font-semibold">
          Start Position
        </span>
        <!-- Start Position Drop Down -->
        <span (click)="startPositionOC1()" class="flex w-full flex-col items-start justify-center relative gap-1">
          <span class="flex w-full items-center justify-between px-5 py-3 bg-white rounded-md" >
            <p class="font-medium">{{editStartPos}}</p>
            <svg [ngClass]="{'rotateArrow': startPositionPopupOCstate}" class="duration-300 shadow" width="14" height="15" viewBox="0 0 14 15" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M7.00007 12.3125L0 5.42194L2.33335 3.125L7.00007 7.71879L11.6667 3.125L14 5.42194L7.00007 12.3125Z" fill="black" />
            </svg>
          </span>
          <p class="absolute top-[calc(100%+5px)] text-red-500 text-[12px] font-medium">{{errorMessage}}</p>
          <!-- Drop Down Options -->
          <span [ngClass]="{'hidden': !startPositionPopupOCstate}" class="absolute top-[calc(100%+5px)] h-[120px] overflow-scroll duration-200 flex flex-col w-full items-start justify-start gap-2 p-2 rounded-lg MinimalScrollCSS scrollCSS bg-white">
            @for (pts of startPositionPts; track pts) {
              <p (click)="$event.stopPropagation(); changeEditStartPos(pts.ptsId)" class="px-3 py-3 w-full text-[12px] duration-300 hover:duration-300 rounded-md bg-white hover:bg-[#c1c1c1]">{{pts.ptName}}</p>
            }
          </span>
        </span>
       </span>

       <!-- End Position Drop Down -->
       <span class="flex w-[50%] flex-col justify-center items-start gap-3">
        <span class="text-[14px] gap-3 items-center justify-center flex font-semibold">
          End Position
        </span>
        <!-- End Position Drop Down -->
        <span (click)="endPositionOC1()" class="flex w-full flex-col items-start justify-center relative gap-1">
          <span class="flex w-full items-center justify-between px-5 py-3 bg-white rounded-md" >
            <p class="font-medium">{{editEndPos}}</p>
            <svg [ngClass]="{'rotateArrow': endPositionPopupOCstate}" class="duration-300 shadow" width="14" height="15" viewBox="0 0 14 15" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M7.00007 12.3125L0 5.42194L2.33335 3.125L7.00007 7.71879L11.6667 3.125L14 5.42194L7.00007 12.3125Z" fill="black" />
            </svg>
          </span>
          <!-- Drop Down Options -->
          <span [ngClass]="{'hidden': !endPositionPopupOCstate}" class="absolute top-[calc(100%+5px)] h-[120px] overflow-scroll duration-200 flex flex-col w-full items-start justify-start gap-2 p-2 rounded-lg MinimalScrollCSS scrollCSS bg-white">
            @for (pts of endPositionPts; track pts) {
              <p (click)="$event.stopPropagation(); changeEditEndPos(pts.ptsId)" class="px-3 py-3 w-full text-[12px] duration-300 hover:duration-300 rounded-md bg-white hover:bg-[#c1c1c1]">{{pts.ptName}}</p>
            }
          </span>
        </span>
       </span>
    </span>
    <span class="flex items-center justify-end gap-5 mt-20">
      <button (click)="editValidateValue()" class="w-[150px] flex items-center justify-center gap-2 py-[8px] text-[12px] rounded-md hover:bg-opacity-90 active:bg-opacity-80 bg-[#D30000] font-semibold text-white">
          <svg width="14" height="13" viewBox="0 0 14 13" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M8.03063 0.5H5.9534L5.98535 5.44024H1V7.51195H5.98535V12.5H8.03063V7.51195H13L12.9521 5.44024H8.03063V0.5Z" fill="white" stroke="black" stroke-width="0.1"/>
          </svg>
          <p>Edit Transition</p>
        </button>

        <button (click)="editPopup()" class="w-[110px] flex items-center justify-center gap-2 py-2 text-[12px] rounded-md hover:bg-opacity-90 active:bg-opacity-80 bg-transparent border-2 border-[#D30000] font-semibold text-[#D30000]">
          <p>Cancel</p>
        </button>
     </span>
  </div>
</div>


<!-- Delete Popup -->
<div [ngClass]="{'hidden': !deletePopupState}" class="absolute flex items-center justify-center w-screen box-border h-screen bg-[#000000] bg-opacity-90 bg-blur top-0 left-0 z-50">
  <div class="w-[600px] bg-white flex flex-col gap-5 rounded-[20px] shadow-[0_0_100px_#00000060] border-l-[22px] border-[#D30000] p-10">
     <!-- Title -->
     <span class="flex flex-col items-start justify-center">
      <p class=" text-[35px] text-black font-bold">Delete</p>
      <p class=" flex items-center justify-center gap-2 text-[14px] font-medium text-[#7B7B7B]">
        Delete an user
        <svg width="20" height="20" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g clip-path="url(#clip0_513_29001)">
          <path d="M12.4987 2.08301C6.75495 2.08301 2.08203 6.75592 2.08203 12.4997C2.08203 18.2434 6.75495 22.9163 12.4987 22.9163C18.2424 22.9163 22.9154 18.2434 22.9154 12.4997C22.9154 6.75592 18.2424 2.08301 12.4987 2.08301ZM13.5404 17.708H11.457V11.458H13.5404V17.708ZM13.5404 9.37467H11.457V7.29134H13.5404V9.37467Z" fill="black"/>
          </g>
          <defs>
          <clipPath id="clip0_513_29001">
          <rect width="25" height="25" fill="white"/>
          </clipPath>
          </defs>
          </svg>
      </p>
    </span>

    <p class="flex text-[16px] font-normal">Are you sure to delete the user ?</p>

    <span class="flex w-full justify-end items-center mt-10">
      <span class="flex justify-between items-center gap-5">
        <p (click)="deleteTransition()" class="cursor-pointer flex px-10 py-2.5 bg-[#D30000] text-white border-2 border-[#D30000] rounded-md ">Delete</p>
        <p (click)="deletePopup()" class="cursor-pointer flex px-10 py-2.5 border-2 rounded-md border-[#D30000] text-[#D30000]">Cancel</p>
      </span>
    </span>
  </div>
 </div>